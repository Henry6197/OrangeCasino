<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Orange Casino</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="new-styles.css" />
  </head>
  <body>
    <!-- Ads Toggle Button -->
    <button class="ads-toggle" id="ads-toggle">🚫 Hide Ads</button>
    
    <!-- Dark Mode Toggle for Underground Access -->
    <button class="dark-mode-toggle" id="underground-toggle" onclick="enterUnderground()">
      🌑 Dark Mode 🌑
    </button>
    
    <header class="site-header">
      <div class="container">
  <h1 class="brand">ORANGE CASINO</h1>
        <nav class="main-nav">
          <a href="index.html">Home</a>
          <a href="slot.html">Slots</a>
          <a href="blackjack.html">Blackjack</a>
          <a href="poker.html">Poker</a>
          <a href="scratch-offs.html">Scratch-Offs</a>
          <a href="achievements.html">Achievements</a>
        </nav>
  <div class="balance" id="balance">Balance: $<span id="balance-value">1000</span><span class="debt">Debt: $<span id="debt-value">0</span></span></div>
      </div>
    </header>

    <main class="container">
      <section class="hero">
        <div class="welcome-banner">
          <h2>🎰 Welcome to ORANGE CASINO 🎰</h2>
          <p class="welcome-subtitle">The hottest casino experience on the web! Pick your game and start winning big!</p>
        </div>
        
        <!-- Main Games Section -->
        <div class="games-section">
          <h3 class="section-title">🎲 Choose Your Game</h3>
          <div class="game-cards">
            <a class="card game-card" href="slot.html">
              <div class="card-icon">🎰</div>
              <h3>Slots</h3>
              <p>Spin the reels and watch the orange magic happen!</p>
              <div class="card-footer">Click to Play</div>
            </a>
            <a class="card game-card" href="blackjack.html">
              <div class="card-icon">🃏</div>
              <h3>Blackjack</h3>
              <p>Beat the dealer in this classic card game.</p>
              <div class="card-footer">Click to Play</div>
            </a>
            <a class="card game-card" href="poker.html">
              <div class="card-icon">♠️</div>
              <h3>Poker</h3>
              <p>Texas Hold'em with multiple betting rounds.</p>
              <div class="card-footer">Click to Play</div>
            </a>
            <a class="card game-card" href="scratch-offs.html">
              <div class="card-icon">🎫</div>
              <h3>Scratch-Offs</h3>
              <p>Instant win lottery tickets with amazing prizes!</p>
              <div class="card-footer">Click to Play</div>
            </a>
          </div>
        </div>

        <!-- Financial Services Section -->
        <div class="financial-section">
          <h3 class="section-title">💰 Financial Services</h3>
          <div class="financial-grid">
            <div class="financial-panel loan-panel">
              <h4>💳 Quick Loans</h4>
              <div class="debt-display">Current Debt: $<span id="debt-display">0</span></div>
              <div class="button-group">
                <button class="btn loan-btn" onclick="vc.loan100()">Loan $100</button>
                                <button class="btn payback-btn" onclick="vc.paybackLoan()">Payback Loan</button>
              </div>
            </div>
            <div class="financial-panel emergency-panel">
              <h4>🏥 Emergency Surgery</h4>
              <p>Sell your kidney for quick cash!</p>
              <div class="surgery-warning">⚠️ 30-second procedure</div>
              <a class="btn surgery-btn" href="surgery.html">💰 Earn $5,000</a>
            </div>
          </div>
        </div>

        <!-- Help Section -->
        <div class="help-section">
          <h3 class="section-title">ℹ️ Need Help?</h3>
          <div class="help-panel">
            <p>New to the casino? Check out our help guide to get started!</p>
            <a class="btn help-btn" href="help.html">📖 Help Guide</a>
          </div>
        </div>

      </section>
      
      <!-- Promo Code Section -->
      <div class="promo-code-section">
        <h3 class="promo-title">� Got a Promo Code? 💰</h3>
        <div class="promo-input-group">
          <input type="text" id="promoCodeInput" placeholder="Enter promo code..." maxlength="20" onkeypress="handlePromoKeyPress(event)">
          <button onclick="checkPromoCode()" class="promo-button">REDEEM</button>
        </div>
        <div id="code-message" class="code-message"></div>
      </div>
      
      <!-- Advertisement -->
      <div class="ad-container right ad-4" onclick="if(window.vc && window.vc.markAdClicked) window.vc.markAdClicked(); window.open('https://vampiricduck.github.io/LuigiHouseButItMansionVibeCode/', '_blank')">
        <img src="images/ad-house.svg" class="ad-svg" alt="Ad 4">
        <div class="ad-text">Luigi House!</div>
      </div> 
    </main>

    <footer class="site-footer">
      <div class="container">Made with ❤️ — demo only. No real money.</div>
    </footer>

    <script src="scripts/todd-dialogue.js"></script>
    <script src="scripts/app.js"></script>
    <script>
      // Underground Casino Access
      function enterUnderground() {
        const toggle = document.getElementById('underground-toggle');
        toggle.textContent = '🕳️ Entering...';
        toggle.style.background = 'linear-gradient(45deg, #dc143c, #ff073a)';
        
        // Show warning message
        if (window.vc && window.vc.showBigMessage) {
          window.vc.showBigMessage('ENTERING UNDERGROUND...', 2000);
        }
        if (window.vc && window.vc.setBuddyText) {
          window.vc.setBuddyText('Wait... where are you going? That place is dangerous!');
        }
        
        // Delay for dramatic effect
        setTimeout(() => {
          window.location.href = 'underground.html';
        }, 2000);
      }
      
      // Update debt display with correct ID
      function updateDebtDisplay() {
        const debt = Number(localStorage.getItem('vc_debt') || 0);
        const displayElements = document.querySelectorAll('#debt-display');
        displayElements.forEach(el => {
          if (el) el.textContent = debt.toLocaleString();
        });
      }
      
      // Add some mystery to the toggle
      document.addEventListener('DOMContentLoaded', function() {
        const toggle = document.getElementById('underground-toggle');
        
        // Update all displays on page load
        updateDebtDisplay();
        
        // Random flicker effect
        setInterval(() => {
          if (Math.random() < 0.1) { // 10% chance every second
            toggle.style.opacity = '0.5';
            setTimeout(() => {
              toggle.style.opacity = '1';
            }, 200);
          }
        }, 1000);
        
        // Hover warning
        toggle.addEventListener('mouseenter', function() {
          if (window.vc && window.vc.setBuddyText) {
            window.vc.setBuddyText('That button leads somewhere dark... Are you sure?');
          }
        });
        
        // Update debt display periodically in case it changes
        setInterval(() => {
          updateDebtDisplay();
        }, 5000);
      });

      // Normal Input Code System for Main Casino
      const mainCodes = {
        'richkid': { reward: 4999, message: '🎉 RICHKID activated! +$4,999!', used: false },
        'jackpot': { reward: 4500, message: '🎰 JACKPOT activated! +$4,500!', used: false },
        'moneybags': { reward: 4000, message: '💰 MONEYBAGS activated! +$4,000!', used: false },
        'casino': { reward: 3500, message: '🏆 CASINO activated! +$3,500!', used: false },
        'lucky': { reward: 300000000, message: '🍀 LUCKY activated! +$3,000!', used: false }
      };

      // Load used codes from localStorage
      function loadUsedCodes() {
        const saved = localStorage.getItem('main_codes_used');
        if (saved) {
          const usedCodes = JSON.parse(saved);
          Object.keys(usedCodes).forEach(code => {
            if (mainCodes[code]) {
              mainCodes[code].used = usedCodes[code];
            }
          });
        }
      }

      // Save used codes to localStorage
      function saveUsedCodes() {
        const usedCodes = {};
        Object.keys(mainCodes).forEach(code => {
          usedCodes[code] = mainCodes[code].used;
        });
        localStorage.setItem('main_codes_used', JSON.stringify(usedCodes));
      }

      // Check promo code function
      function checkPromoCode() {
        const codeInput = document.getElementById('promoCodeInput');
        const code = codeInput.value.toLowerCase().trim();
        
        if (mainCodes[code] && !mainCodes[code].used) {
          // Valid code that hasn't been used
          const currentBalance = window.vc.readBalance();
          window.vc.writeBalance(currentBalance + mainCodes[code].reward);
          
          // Show success message
          const messageDiv = document.getElementById('code-message');
          if (messageDiv) {
            messageDiv.textContent = mainCodes[code].message;
            messageDiv.style.color = '#4CAF50';
            setTimeout(() => {
              messageDiv.textContent = '';
            }, 5000);
          }
          
          // Show confetti and big message
          if (window.vc.confetti) window.vc.confetti();
          if (window.vc.showBigMessage) window.vc.showBigMessage(mainCodes[code].message, 3000);
          
          // Mark achievement
          if (window.vc.markGhostCodeMain) window.vc.markGhostCodeMain();
          
          // Mark as used
          mainCodes[code].used = true;
          saveUsedCodes();
          
          // Clear input
          codeInput.value = '';
        } else if (mainCodes[code] && mainCodes[code].used) {
          // Code exists but already used
          const messageDiv = document.getElementById('code-message');
          if (messageDiv) {
            messageDiv.textContent = '❌ Code already used!';
            messageDiv.style.color = '#f44336';
            setTimeout(() => {
              messageDiv.textContent = '';
            }, 3000);
          }
          codeInput.value = '';
        } else {
          // Invalid code
          const messageDiv = document.getElementById('code-message');
          if (messageDiv) {
            messageDiv.textContent = '❌ Invalid promo code!';
            messageDiv.style.color = '#f44336';
            setTimeout(() => {
              messageDiv.textContent = '';
            }, 3000);
          }
          codeInput.value = '';
        }
      }

      // Allow Enter key to submit
      function handlePromoKeyPress(event) {
        if (event.key === 'Enter') {
          checkPromoCode();
        }
      }

      // Load used codes on page load
      document.addEventListener('DOMContentLoaded', loadUsedCodes);
    </script>
    
    <div class="buddy" id="buddy">
      <div class="buddy-toggle" id="buddy-toggle">−</div>
      <img src="images/buddy.svg" alt="Buddy" />
      <div>
        <div class="name">Donny Boy</div>
        <div class="text" id="buddy-text">Welcome back!</div>
      </div>
    </div>
  </body>
</html>
